<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MANGjohanOnlineShops | Ultimate Store</title>
<meta name="description" content="Toko online terpercaya. Produk real, order langsung via WhatsApp.">
<style>
:root{
  --green:#c8e6c9;
  --dark:#2e7d32;
  --soft:#eef8f0;
  --accent:#4caf50;
  --hot:#ff5722;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif}
body{background:var(--soft);padding-top:110px;padding-bottom:90px;font-size:14px}

/* HEADER */
header{position:fixed;top:0;left:0;width:100%;background:var(--green);padding:12px;border-bottom:2px solid var(--dark);text-align:center;z-index:1000}
header h1{font-size:18px;color:var(--dark);margin-bottom:8px} /* jarak bawah */
nav a{margin:0 6px;font-size:13px;text-decoration:none;color:var(--dark);font-weight:bold}

/* HERO */
.hero{margin:15px;border-radius:12px;overflow:hidden;position:relative}
.hero img{width:100%;height:220px;object-fit:cover}
.overlay{position:absolute;inset:0;background:rgba(46,125,50,.4);color:#fff;display:flex;flex-direction:column;justify-content:center;text-align:center;pointer-events:none}

/* FILTER */
.filter{text-align:center;margin:12px}
.filter button{margin:4px;padding:6px 12px;border:none;border-radius:20px;background:var(--accent);color:#fff;font-size:12px}
.filter button.active{background:var(--dark)}
.filter input{margin-top:6px;padding:8px;width:80%;max-width:260px;border-radius:20px;border:1px solid #bbb}

/* CATALOG */
.catalog{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px;padding:15px}
.card{background:#fff;border-radius:12px;box-shadow:0 4px 8px rgba(0,0,0,.08);text-align:center;overflow:hidden;position:relative;opacity:0;transform:translateY(10px);animation:fadeInProd 0.4s forwards}
.card img{width:100%;height:120px;object-fit:cover;cursor:pointer}
.card h3{font-size:13px;margin:6px}
.price{font-size:12px;font-weight:bold;color:var(--dark)}
.btn{margin:4px;padding:6px 10px;font-size:12px;border:none;border-radius:18px;cursor:pointer}
.order{background:var(--dark);color:#fff;text-decoration:none}
.badge{position:absolute;top:6px;left:6px;background:var(--hot);color:#fff;font-size:10px;padding:2px 6px;border-radius:6px}

/* INFO */
.info{background:#fff;margin:12px;padding:12px;border-radius:12px}

/* CART */
.cart{position:fixed;right:15px;bottom:110px;background:var(--dark);color:#fff;padding:10px 16px;border-radius:30px;font-size:13px;z-index:2000;cursor:pointer}

/* FOOTER */
footer{position:fixed;bottom:0;left:0;width:100%;background:var(--green);text-align:center;padding:8px;border-top:2px solid var(--dark)}

/* MODAL */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.8);justify-content:center;align-items:center;z-index:3000;opacity:0;}
.modal.show{display:flex;animation:fadeIn 0.3s forwards}
.modal.hide{animation:fadeOut 0.3s forwards}
.modal-content{background:#fff;padding:12px;border-radius:12px;max-width:90%;max-height:90%;overflow:auto;text-align:center;position:relative}
.modal-content img{width:100%;max-height:300px;object-fit:cover;border-radius:12px}
.modal-close{position:absolute;top:8px;right:8px;font-size:18px;font-weight:bold;color:#333;cursor:pointer}
.modal-btns{
  margin-top:8px;
  display:flex;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
}
.modal-btns .btn{
  flex:1 1 100%;
  min-width:0;
  text-align:center;
  margin-bottom:6px;
  font-size:13px;
  padding:6px 8px;
}
@media(min-width:480px){
  .modal-btns .btn{flex:1 1 45%; margin-bottom:0;}
}

/* TAMBAH PRODUK */
#addProductForm{background:#fff;padding:12px;margin:12px;border-radius:12px;max-width:400px;}
#addProductForm input{width:100%;padding:6px;margin:4px 0;border-radius:8px;border:1px solid #bbb;}
#addProductForm button{padding:6px 10px;border:none;border-radius:18px;background:var(--dark);color:#fff;cursor:pointer;margin-top:6px;}

/* ANIMASI */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes fadeOut{from{opacity:1}to{opacity:0}}
@keyframes fadeInProd{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
</style>
</head>
<body>

<header>
  <h1>MANGjohanOnlineShops</h1>
  <nav>
    <a href="#profile">Profile</a>
    <a href="#lokasi">Lokasi</a>
    <a href="#kontak">Kontak</a>
    <a href="#tentang">Tentang</a>
    <a href="#testi">Testimoni</a>
    <a href="#blog">Blog</a>
  </nav>
</header>

<section class="hero">
  <img src="https://images.pexels.com/photos/6311390/pexels-photo-6311390.jpeg">
  <div class="overlay">
    <h2>Belanja Cerdas & Aman</h2>
    <p>Order langsung via WhatsApp</p>
  </div>
</section>

<div class="filter">
  <button class="active" data-cat="all">Semua</button>
  <button data-cat="Baju">Baju</button>
  <button data-cat="Dapur">Dapur</button>
  <button data-cat="Rumah">Rumah</button><br>
  <input id="search" placeholder="Cari produk...">
</div>

<section class="catalog" id="catalog"></section>

<!-- FORM TAMBAH PRODUK -->
<section id="addProductForm">
  <h3>Tambah Produk</h3>
  <input id="newName" placeholder="Nama Produk">
  <input id="newCategory" placeholder="Kategori">
  <input id="newPrice" type="number" placeholder="Harga">
  <input id="newImg" placeholder="URL Gambar">
  <button onclick="addProduct()">Tambah</button>
</section>

<section class="info" id="profile"><h3>Profile</h3><p>Toko online terpercaya.</p></section>
<section class="info" id="lokasi"><h3>Lokasi</h3><p>Brunei Darussalam</p></section>
<section class="info" id="kontak"><h3>Kontak</h3><a href="https://wa.me/6285691451094">WhatsApp</a></section>
<section class="info" id="tentang"><h3>Tentang</h3><p>Produk real. No tipu-tipu.</p></section>
<section class="info" id="testi"><h3>Testimoni</h3><p>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Mantap</p></section>

<section class="info" id="blog">
<h3>Blog</h3>
<input id="blogTitle" placeholder="Judul" style="width:100%;padding:6px"><br>
<textarea id="blogContent" placeholder="Isi" style="width:100%;padding:6px;height:80px"></textarea><br>
<button class="btn order" onclick="addBlog()">Tambah Blog</button>
<div id="blogContainer"></div>
</section>

<footer>MANGjohanOnlineShops</footer>
<div class="cart" id="cartBtn">üõí Keranjang (0)</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content">
    <span class="modal-close" id="modalClose">&times;</span>
    <img id="modalImg">
    <h3 id="modalName"></h3>
    <p id="modalPrice"></p>
    <div class="modal-btns">
      <button class="btn" id="modalAddCart">+ Keranjang</button>
      <a class="btn order" id="modalOrder" target="_blank">Order</a>
    </div>
  </div>
</div>

<script>
const wa="https://wa.me/6285691451094?text=";
const catalog=document.getElementById("catalog");
const search=document.getElementById("search");
const cartBtn=document.getElementById("cartBtn");
let cart=[];

/* GENERATE PRODUK */
let base=[
{name:"Kaos",cat:"Baju",img:"https://images.pexels.com/photos/6311390/pexels-photo-6311390.jpeg"},
{name:"Jaket",cat:"Baju",img:"https://images.pexels.com/photos/6311472/pexels-photo-6311472.jpeg"},
{name:"Panci",cat:"Dapur",img:"https://images.pexels.com/photos/5592593/pexels-photo-5592593.jpeg"},
{name:"Sabun",cat:"Rumah",img:"https://images.pexels.com/photos/4239013/pexels-photo-4239013.jpeg"}
];
let products=[];
for(let i=1;i<=100;i++){
 const b=base[i%4];
 products.push({id:i,name:b.name+" "+i,cat:b.cat,img:b.img,price:10000+i*500,hot:i%8===0});
}

/* MODAL */
const modal=document.getElementById("modal");
const modalImg=document.getElementById("modalImg");
const modalName=document.getElementById("modalName");
const modalPrice=document.getElementById("modalPrice");
const modalOrder=document.getElementById("modalOrder");
const modalClose=document.getElementById("modalClose");
const modalAddCart=document.getElementById("modalAddCart");
let currentModalProduct=null;
function openModal(p){
 modal.classList.remove("hide");
 modal.classList.add("show");
 modal.style.display="flex";
 modalImg.src=p.img;
 modalName.textContent=p.name;
 modalPrice.textContent="Rp "+p.price.toLocaleString("id-ID");
 modalOrder.href=wa+"Order "+p.name;
 currentModalProduct=p;
}
modalClose.onclick=()=>closeModal();
window.onclick=e=>{if(e.target===modal) closeModal();}
function closeModal(){
 modal.classList.remove("show");
 modal.classList.add("hide");
 setTimeout(()=>{modal.style.display="none"},300);
}
modalAddCart.onclick=()=>{if(currentModalProduct) addCart(currentModalProduct.id)};

/* RENDER PRODUK */
function render(list){
 catalog.innerHTML=list.map(p=>`
 <div class="card">
 ${p.hot?'<div class="badge">HOT</div>':''}
 <img src="${p.img}" onclick='openModal(${JSON.stringify(p)})'>
 <h3>${p.name}</h3>
 <div class="price">Rp ${p.price.toLocaleString("id-ID")}</div>
 <button class="btn" onclick="addCart(${p.id})">+ Keranjang</button>
 <a class="btn order" target="_blank" href="${wa}Order ${p.name}">Order</a>
 </div>`).join("");
}

/* KERANJANG */
function addCart(id){
 cart.push(products.find(p=>p.id===id));
 cartBtn.textContent=`üõí Keranjang (${cart.length})`;
}
cartBtn.onclick=()=>{
 let msg="Halo saya mau order:%0A";
 cart.forEach(p=>msg+=`- ${p.name} Rp ${p.price}%0A`);
 window.open(wa+msg);
};

/* SEARCH & FILTER */
search.oninput=()=>render(products.filter(p=>p.name.toLowerCase().includes(search.value.toLowerCase())));
document.querySelectorAll(".filter button").forEach(b=>{
 b.onclick=()=>{
  document.querySelectorAll(".filter button").forEach(x=>x.classList.remove("active"));
  b.classList.add("active");
  const c=b.dataset.cat;
  render(c==="all"?products:products.filter(p=>p.cat===c));
 };
});

/* BLOG */
let blogs=JSON.parse(localStorage.getItem("blogs"))||[];
const blogContainer=document.getElementById("blogContainer");
function renderBlog(){
 blogContainer.innerHTML=blogs.map((b,i)=>`
 <div>
 <b>${b.title}</b>
 <p>${b.content}</p>
 <button onclick="delBlog(${i})">Hapus</button>
 </div>`).join("");
}
function addBlog(){
 if(!blogTitle.value||!blogContent.value)return;
 blogs.unshift({title:blogTitle.value,content:blogContent.value});
 localStorage.setItem("blogs",JSON.stringify(blogs));
 blogTitle.value=blogContent.value="";
 renderBlog();
}
function delBlog(i){
 blogs.splice(i,1);
 localStorage.setItem("blogs",JSON.stringify(blogs));
 renderBlog();
}

/* TAMBAH PRODUK */
function addProduct(){
 const name=document.getElementById("newName").value;
 const cat=document.getElementById("newCategory").value;
 const price=parseInt(document.getElementById("newPrice").value);
 const img=document.getElementById("newImg").value;
 if(!name||!cat||!price||!img)return alert("Lengkapi semua kolom");
 const id=products.length+1;
 products.push({id,name,cat,price,img,hot:false});
 render(products);
 document.getElementById("newName").value="";
 document.getElementById("newCategory").value="";
 document.getElementById("newPrice").value="";
 document.getElementById("newImg").value="";
}

/* RENDER AWAL */
render(products);
renderBlog();
</script>
</body>
</html>
